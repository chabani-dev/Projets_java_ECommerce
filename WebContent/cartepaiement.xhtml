<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>
	<ui:composition template="/resources/template/layout.xhtml">
		<ui:define name="content">
			<h1>Ajouter une carte de paiement</h1>
			<f:view>
				<h:form>
					<h:panelGrid columns="3" cellpadding="0" cellspacing="8">
						<h:outputText value="Numéro de carte :"></h:outputText>
						<h:inputText value="#{cartepaiementbean.numeroCarte}" required="true" id="numeroCarte"
							requiredMessage="Le numéro de carte n'est pas bien composée !">
							<f:validateLength minimum="16" maximum="16" />
							<f:validateRegex
								pattern="\b\d{4}[ -]?\d{4}[ -]?\d{4}[ -]?\d{4}\b"></f:validateRegex>
						</h:inputText>
						<h:message for="numeroCarte" style="color:red"></h:message>
						
						<h:outputLabel value="Date de validité : (jj/mm/aaaa)"></h:outputLabel>
						<h:inputText id="dateValidite"
							value="#{cartepaiementbean.dateValidite}" required="true"
							requiredMessage="La date de validité est obligatoire !">
							<f:convertDateTime pattern="dd/MM/yyyy"></f:convertDateTime>
							<!-- 					<f:validateRegex pattern="([0-9]{2})\/([0-9]{2})\/([0-9]{4})"></f:validateRegex> -->
						</h:inputText>
						<h:message for="dateValidite" style="color:red"></h:message>
						
						<h:outputText value="Cryptogramme :"></h:outputText>
						<h:inputText value="#{cartepaiementbean.cryptogramme}" required="true" id="cryptogramme"
							requiredMessage="Le cryptogramme n'est pas bien composée !">
							<f:validateLength minimum="3" maximum="3" />
							<f:validateRegex
								pattern="\d{3}"></f:validateRegex>
						</h:inputText>
						<h:message for="cryptogramme" style="color:red"></h:message>
						<h:commandButton value="Ajouter" action="#{cartepaiementbean.addCartePaiement}" />
					</h:panelGrid>
				</h:form>
			</f:view>
		</ui:define>
	</ui:composition>
</h:body>
</html>